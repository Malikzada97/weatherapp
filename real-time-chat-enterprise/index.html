<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Enterprise Real-Time Chat App</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    // Configure Tailwind CSS for dark mode
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            primary: {
              50: '#eff6ff',
              100: '#dbeafe',
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a',
            }
          }
        }
      }
    }
  </script>
  <link rel="manifest" href="manifest.json" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
  <style>
    @keyframes fadeIn { 0% {opacity:0; transform: translateY(20px);} 100% {opacity:1; transform: translateY(0);} }
    .fade-in { animation: fadeIn 0.5s ease-out; }
  </style>
</head>

<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 flex flex-col h-screen">

  <!-- Enhanced Header -->
  <header class="header p-4 text-white flex justify-between items-center">
    <div class="flex items-center space-x-3">
      <div class="w-8 h-8 bg-white bg-opacity-20 rounded-lg flex items-center justify-center">
        <i class="fas fa-comments text-white"></i>
      </div>
      <h1 class="text-xl font-bold">Enterprise Chat</h1>
    </div>
    <div class="flex items-center space-x-2">
      <!-- Status Indicator -->
      <div class="flex items-center space-x-2 px-3 py-1 bg-white bg-opacity-10 rounded-full">
        <div class="w-2 h-2 bg-green-400 rounded-full pulse"></div>
        <span class="text-sm">Online</span>
      </div>
      <!-- Enhanced Buttons -->
      <button id="themeToggle" class="btn btn-header px-3 py-2 rounded-lg shadow-soft hover-lift transition-all">
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:block"></i>
      </button>
      <button id="exportChat" class="btn btn-header px-3 py-2 rounded-lg shadow-soft hover-lift transition-all">
        <i class="fas fa-download"></i>
      </button>
      <button id="settingsBtn" class="btn btn-header px-3 py-2 rounded-lg shadow-soft hover-lift transition-all">
        <i class="fas fa-cog"></i>
      </button>
    </div>
  </header>

  <!-- Enhanced Main Chat Container -->
  <main id="chatContainer" class="chat-container flex-1 overflow-y-auto p-4 space-y-4 relative">
    <!-- Welcome Message -->
    <div id="welcomeMessage" class="text-center py-8 fade-in">
      <div class="w-16 h-16 bg-gradient-primary rounded-full mx-auto mb-4 flex items-center justify-center">
        <i class="fas fa-robot text-white text-2xl"></i>
      </div>
      <h2 class="text-2xl font-bold text-gradient mb-2">Welcome to Enterprise Chat</h2>
      <p class="text-gray-600 dark:text-gray-400 mb-4">Your AI-powered conversation partner</p>
      <div class="flex flex-wrap justify-center gap-2 text-sm">
        <span class="px-3 py-1 bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200 rounded-full">
          <i class="fas fa-microphone mr-1"></i>Voice Input
        </span>
        <span class="px-3 py-1 bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200 rounded-full">
          <i class="fas fa-image mr-1"></i>Image Sharing
        </span>
        <span class="px-3 py-1 bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200 rounded-full">
          <i class="fas fa-moon mr-1"></i>Dark Mode
        </span>
        <span class="px-3 py-1 bg-orange-100 dark:bg-orange-900 text-orange-800 dark:text-orange-200 rounded-full">
          <i class="fas fa-wifi mr-1"></i>Offline Support
        </span>
      </div>
    </div>
    
    <!-- Enhanced Typing Indicator -->
    <div id="typingIndicator" class="hidden typing-indicator absolute bottom-16 left-4">
      <div class="flex items-center space-x-2">
        <div class="flex space-x-1">
          <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></div>
          <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.1s"></div>
          <div class="w-2 h-2 bg-gray-400 rounded-full animate-bounce" style="animation-delay: 0.2s"></div>
        </div>
        <span class="text-sm text-gray-600 dark:text-gray-400">AI is typing...</span>
      </div>
    </div>
  </main>

  <!-- Enhanced Chat Form -->
  <form id="chatForm" class="chat-form flex items-center p-4 gap-3">
    <!-- Voice Button -->
    <button type="button" id="voiceBtn" class="btn btn-success p-3 rounded-full shadow-soft hover-lift">
      <i class="fas fa-microphone"></i>
    </button>
    
    <!-- File Upload -->
    <input type="file" id="fileInput" class="hidden" accept="image/*" />
    <button type="button" id="fileBtn" class="btn btn-warning p-3 rounded-full shadow-soft hover-lift">
      <i class="fas fa-paperclip"></i>
    </button>
    
    <!-- Enhanced Input Field -->
    <div class="flex-1 relative">
      <input 
        type="text" 
        id="messageInput" 
        placeholder="Type your message..." 
        class="input-enhanced w-full p-3 pr-12 rounded-full border border-gray-300 dark:border-gray-600 focus:outline-none dark:bg-gray-700 dark:text-white"
      />
      <button type="button" id="emojiBtn" class="absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300">
        <i class="fas fa-smile"></i>
      </button>
    </div>
    
    <!-- Send Button -->
    <button type="submit" class="btn btn-primary p-3 rounded-full shadow-soft hover-lift">
      <i class="fas fa-paper-plane"></i>
    </button>
  </form>

  <!-- Settings Modal -->
  <div id="settingsModal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white dark:bg-gray-800 rounded-lg p-6 w-96 max-w-full mx-4 shadow-strong">
      <div class="flex justify-between items-center mb-4">
        <h3 class="text-lg font-bold">Settings</h3>
        <button id="closeSettings" class="text-gray-500 hover:text-gray-700 dark:hover:text-gray-300">
          <i class="fas fa-times"></i>
        </button>
      </div>
      <div class="space-y-4">
        <div>
          <label class="block text-sm font-medium mb-2">Theme</label>
          <select id="themeSelect" class="w-full p-2 border border-gray-300 dark:border-gray-600 rounded dark:bg-gray-700">
            <option value="light">Light</option>
            <option value="dark">Dark</option>
            <option value="auto">Auto</option>
          </select>
        </div>
        <div>
          <label class="block text-sm font-medium mb-2">Message Sound</label>
          <div class="flex items-center space-x-2">
            <input type="checkbox" id="soundToggle" class="rounded">
            <span class="text-sm">Play notification sound</span>
          </div>
        </div>
        <div>
          <label class="block text-sm font-medium mb-2">Auto-scroll</label>
          <div class="flex items-center space-x-2">
            <input type="checkbox" id="autoScrollToggle" class="rounded" checked>
            <span class="text-sm">Auto-scroll to new messages</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Emoji Picker -->
  <div id="emojiPicker" class="hidden absolute bottom-20 right-4 bg-white dark:bg-gray-800 rounded-lg shadow-strong p-2 border border-gray-200 dark:border-gray-600">
    <div class="grid grid-cols-8 gap-1">
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üòä</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üòÇ</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">‚ù§Ô∏è</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üëç</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üéâ</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üî•</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">üíØ</button>
      <button class="emoji-btn p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded">‚ú®</button>
    </div>
  </div>

  <!-- Scripts -->
  <script src="js/state.js"></script>
  <script src="js/storage.js"></script>
  <script src="js/notifications.js"></script>
  <script src="js/performance.js"></script>
  <script src="js/chatbot.js"></script>
  <script src="js/speech.js"></script>
  <script src="js/serviceWorkerHelper.js"></script>
  <script src="js/app.js"></script>

</body>
</html>
